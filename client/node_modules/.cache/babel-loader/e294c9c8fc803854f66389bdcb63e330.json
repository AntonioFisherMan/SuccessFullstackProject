{"ast":null,"code":"import _toConsumableArray from\"/Volumes/Anton/myApp-1/APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Volumes/Anton/myApp-1/APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";var CARD_ADD_ITEMS=\"CARD_ADD_ITEMS\";var CARD_REMOVE_ITEMS=\"CARD_REMOVE_ITEMS\";var REMOVE_CARD_ITEMS=\"REMOVE_CARD_ITEMS\";var CHANGE_ITEMS_QUANTITY=\"CHANGE_ITEMS_QUANTITY\";var CARD_ADD_INSURANCE=\"CARD_ADD_INSURANCE\";var CARD_REMOVE_INSURANCE=\"CARD_REMOVE_INSURANCE\";var initialState={items:[],isLoaded:false,totalPrice:0};var CardReducer=function CardReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case CARD_ADD_ITEMS:return _objectSpread(_objectSpread({},state),{},{items:[].concat(_toConsumableArray(state.items),[action.payload]),isLoaded:true});case CARD_REMOVE_ITEMS:return _objectSpread(_objectSpread({},state),{},{items:state.items.filter(function(i){return i._id!==action.itemId;})});case REMOVE_CARD_ITEMS:return _objectSpread(_objectSpread({},state),{},{items:[],totalPrice:null,totalItemCount:null});case CHANGE_ITEMS_QUANTITY:return _objectSpread(_objectSpread({},state),{},{items:state.items.filter(function(i){return i._id===action.id?i.quantity:action.quantity;})});case CARD_ADD_INSURANCE:var id=action.id;return _objectSpread(_objectSpread({},state),{},{items:state.items.map(function(item){if(item._id===id){return _objectSpread(_objectSpread({},item),{},{insurance:action.insurance,price:item.price+5});}return item;})});case CARD_REMOVE_INSURANCE:var removeId=action.id;return _objectSpread(_objectSpread({},state),{},{items:state.items.map(function(item){if(item._id===removeId){return _objectSpread(_objectSpread({},item),{},{insurance:action.insurance,price:item.price-5});}return item;})});default:return state;}};export var addToCart=function addToCart(payload){return{type:CARD_ADD_ITEMS,payload:payload};};export var clearCardItems=function clearCardItems(){return{type:REMOVE_CARD_ITEMS};};export var removeProduct=function removeProduct(itemId){return{type:CARD_REMOVE_ITEMS,itemId:itemId};};export var changeQuantity=function changeQuantity(id,quantity){return{type:CHANGE_ITEMS_QUANTITY,id:id,quantity:quantity};};export var addInsurance=function addInsurance(id,insurance){return{type:CARD_ADD_INSURANCE,id:id,insurance:insurance};};export var removeInsurance=function removeInsurance(id,insurance){return{type:CARD_REMOVE_INSURANCE,id:id,insurance:insurance};};export default CardReducer;","map":{"version":3,"sources":["/Volumes/Anton/myApp-1/APP/client/src/redux/CardReducer.js"],"names":["CARD_ADD_ITEMS","CARD_REMOVE_ITEMS","REMOVE_CARD_ITEMS","CHANGE_ITEMS_QUANTITY","CARD_ADD_INSURANCE","CARD_REMOVE_INSURANCE","initialState","items","isLoaded","totalPrice","CardReducer","state","action","type","payload","filter","i","_id","itemId","totalItemCount","id","quantity","map","item","insurance","price","removeId","addToCart","clearCardItems","removeProduct","changeQuantity","addInsurance","removeInsurance"],"mappings":"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","sourcesContent":["const CARD_ADD_ITEMS = \"CARD_ADD_ITEMS\";\nconst CARD_REMOVE_ITEMS = \"CARD_REMOVE_ITEMS\";\nconst REMOVE_CARD_ITEMS = \"REMOVE_CARD_ITEMS\";\nconst CHANGE_ITEMS_QUANTITY = \"CHANGE_ITEMS_QUANTITY\";\nconst CARD_ADD_INSURANCE = \"CARD_ADD_INSURANCE\";\nconst CARD_REMOVE_INSURANCE = \"CARD_REMOVE_INSURANCE\";\n\nlet initialState = {\n  items: [],\n  isLoaded: false,\n  totalPrice: 0,\n};\n\nconst CardReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case CARD_ADD_ITEMS:\n      return {\n        ...state,\n        items: [...state.items, action.payload],\n        isLoaded: true,\n      };\n    case CARD_REMOVE_ITEMS:\n      return {\n        ...state,\n        items: state.items.filter((i) => i._id !== action.itemId),\n      };\n    case REMOVE_CARD_ITEMS:\n      return { ...state, items: [], totalPrice: null, totalItemCount: null };\n    case CHANGE_ITEMS_QUANTITY:\n      return {\n        ...state,\n        items: state.items.filter((i) =>\n          i._id === action.id ? i.quantity : action.quantity\n        ),\n      };\n    case CARD_ADD_INSURANCE:\n      const id = action.id;\n      return {\n        ...state,\n        items: state.items.map((item) => {\n          if (item._id===id) {\n            return {\n              ...item,\n              insurance: action.insurance,\n              price:item.price+5\n            };\n          }\n          return item;\n        }),\n      };\n    case CARD_REMOVE_INSURANCE:\n      const removeId = action.id;\n      return {...state, items: state.items.map((item) => {\n          if (item._id ===removeId) {\n            return {...item,insurance: action.insurance,price:item.price-5 };\n          }return item;\n        }),\n      };\n    default:\n      return state;\n  }\n};\n\nexport const addToCart = (payload) => ({ type: CARD_ADD_ITEMS, payload });\nexport const clearCardItems = () => ({ type: REMOVE_CARD_ITEMS });\nexport const removeProduct = (itemId) => ({ type: CARD_REMOVE_ITEMS, itemId });\nexport const changeQuantity = (id, quantity) => ({\n  type: CHANGE_ITEMS_QUANTITY,\n  id,\n  quantity,\n});\nexport const addInsurance = (id, insurance) => ({\n  type: CARD_ADD_INSURANCE,\n  id,\n  insurance,\n});\nexport const removeInsurance = (id, insurance) => ({\n  type: CARD_REMOVE_INSURANCE,\n  id,\n  insurance,\n});\nexport default CardReducer;\n"]},"metadata":{},"sourceType":"module"}