{"ast":null,"code":"import _toConsumableArray from\"/Volumes/Anton/myApp-1/APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Volumes/Anton/myApp-1/APP/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{clearCardItems}from'./CardReducer';import{testAPI}from\"../api/api\";import{returnSuccess}from'./SuccessErrorReducer';var ADD_ORDERS=\"ADD_ORDERS\";var ADD_UNLOGINORDER=\"ADD_UNLOGINORDER\";var initialState={orders:[],unloginOrder:null,inform:null};var OrdersReducer=function OrdersReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_ORDERS:return _objectSpread(_objectSpread({},state),{},{orders:_toConsumableArray(action.data)});case ADD_UNLOGINORDER:return _objectSpread(_objectSpread({},state),{},{unloginOrder:action.data});default:return state;}};export var addOrders=function addOrders(data){return{type:ADD_ORDERS,data:data};};var addUnloginOrders=function addUnloginOrders(data){return{type:ADD_UNLOGINORDER,data:data};};export var addUnloginOrdersThunk=function addUnloginOrdersThunk(data){return function(dispatch){testAPI.setUnloginOrders(data).then(function(response){dispatch(addUnloginOrders(response.data.item.inform));dispatch(clearCardItems(null,null,null));});};};export var getOrders=function getOrders(id){return function(dispatch){testAPI.getOrders(id).then(function(response){if(response.data.orders){dispatch(addOrders(response.data.orders));}});};};export var addOrdersThunk=function addOrdersThunk(_ref){var items=_ref.items,inform=_ref.inform,id=_ref.id;return function(dispatch,getState){testAPI.setOrders(items,inform,getState().auth.user.id).then(function(response){dispatch(clearCardItems(null,null,null));dispatch(returnSuccess(response.data.message,response.status,'SUCCESS_ADD_ORDER'));});};};export default OrdersReducer;","map":{"version":3,"sources":["/Volumes/Anton/myApp-1/APP/client/src/redux/OrdersReducer.js"],"names":["clearCardItems","testAPI","returnSuccess","ADD_ORDERS","ADD_UNLOGINORDER","initialState","orders","unloginOrder","inform","OrdersReducer","state","action","type","data","addOrders","addUnloginOrders","addUnloginOrdersThunk","dispatch","setUnloginOrders","then","response","item","getOrders","id","addOrdersThunk","items","getState","setOrders","auth","user","message","status"],"mappings":"uTAAA,OAAQA,cAAR,KAA6B,eAA7B,CACA,OAASC,OAAT,KAAwB,YAAxB,CACA,OAASC,aAAT,KAA8B,uBAA9B,CAGA,GAAMC,CAAAA,UAAU,CAAC,YAAjB,CACA,GAAMC,CAAAA,gBAAgB,CAAC,kBAAvB,CAEA,GAAIC,CAAAA,YAAY,CAAG,CACjBC,MAAM,CAAE,EADS,CAEjBC,YAAY,CAAC,IAFI,CAGjBC,MAAM,CAAC,IAHU,CAAnB,CAMA,GAAIC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAkC,IAAjCC,CAAAA,KAAiC,2DAAzBL,YAAyB,IAAXM,CAAAA,MAAW,2CACpD,OAAQA,MAAM,CAACC,IAAf,EACI,IAAKT,CAAAA,UAAL,CACI,sCAAUO,KAAV,MAAgBJ,MAAM,oBAAKK,MAAM,CAACE,IAAZ,CAAtB,GACA,IAAKT,CAAAA,gBAAL,CACA,sCAAUM,KAAV,MAAgBH,YAAY,CAACI,MAAM,CAACE,IAApC,GACN,QACE,MAAOH,CAAAA,KAAP,CANJ,CAQD,CATD,CAYC,MAAO,IAAMI,CAAAA,SAAS,CAAC,QAAVA,CAAAA,SAAU,CAACD,IAAD,QAAS,CAACD,IAAI,CAACT,UAAN,CAAiBU,IAAI,CAAJA,IAAjB,CAAT,EAAhB,CACN,GAAME,CAAAA,gBAAgB,CAAC,QAAjBA,CAAAA,gBAAiB,CAACF,IAAD,QAAS,CAACD,IAAI,CAACR,gBAAN,CAAuBS,IAAI,CAAJA,IAAvB,CAAT,EAAvB,CAGD,MAAO,IAAMG,CAAAA,qBAAqB,CAAC,QAAtBA,CAAAA,qBAAsB,CAACH,IAAD,QAAQ,UAAAI,QAAQ,CAAE,CACnDhB,OAAO,CAACiB,gBAAR,CAAyBL,IAAzB,EAA+BM,IAA/B,CAAoC,SAAAC,QAAQ,CAAE,CAC7CH,QAAQ,CAACF,gBAAgB,CAACK,QAAQ,CAACP,IAAT,CAAcQ,IAAd,CAAmBb,MAApB,CAAjB,CAAR,CACAS,QAAQ,CAACjB,cAAc,CAAC,IAAD,CAAM,IAAN,CAAW,IAAX,CAAf,CAAR,CACH,CAHE,EAIF,CALmC,EAA5B,CAMR,MAAO,IAAMsB,CAAAA,SAAS,CAAC,QAAVA,CAAAA,SAAU,CAACC,EAAD,QAAM,UAAAN,QAAQ,CAAE,CACtChB,OAAO,CAACqB,SAAR,CAAkBC,EAAlB,EAAsBJ,IAAtB,CAA2B,SAAAC,QAAQ,CAAE,CACnC,GAAGA,QAAQ,CAACP,IAAT,CAAcP,MAAjB,CAAwB,CAEvBW,QAAQ,CAACH,SAAS,CAACM,QAAQ,CAACP,IAAT,CAAcP,MAAf,CAAV,CAAR,CACA,CACF,CALD,EAMA,CAPsB,EAAhB,CASP,MAAO,IAAMkB,CAAAA,cAAc,CAAC,QAAfA,CAAAA,cAAe,UAAEC,CAAAA,KAAF,MAAEA,KAAF,CAAQjB,MAAR,MAAQA,MAAR,CAAee,EAAf,MAAeA,EAAf,OAAqB,UAACN,QAAD,CAAUS,QAAV,CAAqB,CAClEzB,OAAO,CAAC0B,SAAR,CAAkBF,KAAlB,CAAwBjB,MAAxB,CAA+BkB,QAAQ,GAAGE,IAAX,CAAgBC,IAAhB,CAAqBN,EAApD,EAAwDJ,IAAxD,CAA6D,SAAAC,QAAQ,CAAE,CACnEH,QAAQ,CAACjB,cAAc,CAAC,IAAD,CAAM,IAAN,CAAW,IAAX,CAAf,CAAR,CACAiB,QAAQ,CAACf,aAAa,CAACkB,QAAQ,CAACP,IAAT,CAAciB,OAAf,CAAuBV,QAAQ,CAACW,MAAhC,CAAuC,mBAAvC,CAAd,CAAR,CACH,CAHD,EAKH,CAN2B,EAArB,CAQP,cAAetB,CAAAA,aAAf","sourcesContent":["import {clearCardItems} from './CardReducer'\nimport { testAPI } from \"../api/api\";\nimport { returnSuccess } from './SuccessErrorReducer';\n\n\nconst ADD_ORDERS=\"ADD_ORDERS\"\nconst ADD_UNLOGINORDER=\"ADD_UNLOGINORDER\"\n\nlet initialState = {\n  orders: [],\n  unloginOrder:null,\n  inform:null\n};\n\nlet OrdersReducer = (state = initialState, action) => {\n  switch (action.type) {\n      case ADD_ORDERS:\n          return{...state,orders:[...action.data]}\n          case ADD_UNLOGINORDER:\n          return{...state,unloginOrder:action.data}\n    default:\n      return state;\n  }\n};\n\n\n export const addOrders=(data)=>({type:ADD_ORDERS,data})\n  const addUnloginOrders=(data)=>({type:ADD_UNLOGINORDER,data})\n\n\n export const addUnloginOrdersThunk=(data)=>dispatch=>{\n   testAPI.setUnloginOrders(data).then(response=>{\n    dispatch(addUnloginOrders(response.data.item.inform))\n    dispatch(clearCardItems(null,null,null))\n})\n}\nexport const getOrders=(id)=>dispatch=>{\n testAPI.getOrders(id).then(response=>{\n   if(response.data.orders){\n\n    dispatch(addOrders(response.data.orders));\n   }\n })\n}\n\nexport const addOrdersThunk=({items,inform,id})=>(dispatch,getState)=>{\n    testAPI.setOrders(items,inform,getState().auth.user.id).then(response=>{\n        dispatch(clearCardItems(null,null,null))\n        dispatch(returnSuccess(response.data.message,response.status,'SUCCESS_ADD_ORDER'))\n    })\n    \n}\n\nexport default OrdersReducer"]},"metadata":{},"sourceType":"module"}